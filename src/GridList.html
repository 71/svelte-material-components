<div {...attrs}>
  <ul class="mdc-grid-list__tiles">
      <spot></spot>
  </ul>
</div>

<script>
import {processAttributes, formatString} from './helpers.js';
import {MDCGridList} from '@material/grid-list'
export default {
    oncreate() {
        this.mdcComponent = new MDCGridList(this.refs.dialog);
    },
    ondestroy() {
        this.mdcComponent.destroy();
    },
    computed: {
        attrs (attributes) {
            let result = Object.assign({}, attributes);
            let cls ="mdc-grid-list";
            let classes = [cls];
            switch (result.padding) {
              case "1":
              case 1:
                classes.push(cls+"--tile-gutter-1");
                break;
              case "4":
              case 4:
                break;
              default:
                throw new Error("Padding has invalid value: detected '"+result.padding+"', should be 1 or 4");
            }
            delete result.padding;
            switch (result.iconAlign) {
              case "start":
              case "end":
                classes.push(cls+"--with-icon-align-"+result.iconAlign);
                break;
              default:
                if (result.iconAlign) {
                  throw new Error("iconAlign has invalid value: detected '"+result.iconAlign+"', should be 'start' or 'end'");
                }
            }
            delete result.iconAlign;
            switch (result.tileAspect) {
              case "1x1":
              case "16x9":
              case "2x3":
              case "3x2":
              case "4x3":
              case "3x4":
                classes.push(cls+"--tile-aspect-"+result.tileAspect);
                break;
              default:
                if (result.tileAspect) {
                  throw new Error("tileAspect has invalid value: detected '"+result.tileAspect+"', should be '1x1', '16x9', '2x3', '3x2', '4x3' or '3x4'.");
                }
            }
            delete result.tileAspect;

            for (let key of ["headerCaption", "twolineCaption"]) {
                if (result[key]) {
                    classes.push(cls+"--"+formatString(key));
                }
                delete result[key];
            }
            delete result.attrs;
            if (result["class"]) {
                classes.push(result["class"]);
            }
            result["class"] = classes.join(" ");
            return processAttributes(result);
        }
    }
};
</script>

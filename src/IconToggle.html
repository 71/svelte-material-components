<Icon ref:icon class="mdc-icon-toggle" role="button" aria_pressed="false" tabindex="0" data_toggle_on='{jsonencode(toggle_on)}' data_toggle_off='{jsonencode(toggle_off)}'><slot></slot></Icon>
<script>
import {MDCIconToggle} from '@material/icon-toggle';

export default {
	data() {
		return {'toggle_on': {}, 'toggle_off': {}};
	},
    components: {
        Icon: './Icon.html'
    },
    oncreate() {
        this.mdcComponent = new MDCIconToggle(this.refs.icon.getElement());
        this.mdcComponent.listen("MDCIconToggle:change", () => {
			this.fire("change");
		});
    },
    ondestroy() {
        this.mdcComponent.destroy();
    },
    onupdate() {
        this.mdcComponent.refreshToggleData();
    },
    helpers: {
        jsonencode(data) {
            return JSON.stringify(data);
        }
    }
};
</script>

<div ref:formfield {...attrs}>
  <slot></slot>
  <label for="{id}">{label}</label>
</div>
<link rel="stylesheet" type="text/css" href="@material/form-field/dist/mdc.form-field.css" />
<script>
import {MDCFormField} from '@material/form-field';
import {processAttributes, formatString} from './helpers.js';
export default {
    oncreate() {
        this.mdcComponent = new MDCFormField(this.refs.formfield);
    },
    ondestroy() {
        this.mdcComponent.destroy();
    },
    methods: {
        setField(component) {
            this.mdcComponent.input = component.getMDCField();
        }
    },
    computed: {
        attrs (attributes) {
            let result = Object.assign({}, attributes);
            let cls ="mdc-form-field";
            let classes = [cls];
            let key = "alignEnd";
            if (result[key]) {
                classes.push(cls+"--"+formatString(key));
            }
            delete result[key];
            for (let key of ["attrs", "label", "id"]) {
                delete result[key];
            }
            if (result["class"]) {
                classes.push(result["class"]);
            }
            result["class"] = classes.join(" ");
            return processAttributes(result);
        }
    }
}
</script>

<div ref:chip {...attrs}>
    {#if icon && iconLeading}
      <i class="material-icons mdc-chip__icon mdc-chip__icon--leading">{icon}</i>
    {/if}
    {#if checkmark}
    <div class="mdc-chip__checkmark">
        <svg class="mdc-chip__checkmark-svg" viewBox="-2 -3 30 30">
          <path class="mdc-chip__checkmark-path" fill="none" stroke="black"
                d="M1.73,12.91 8.1,19.28 22.79,4.59"/>
        </svg>
    </div>
    {/if}
    <slot></slot>
    {#if icon && !iconLeading}
      <i class="material-icons mdc-chip__icon  mdc-chip__icon--trailing" tabindex="0" role="button">{icon}</i>
    {/if}
</div>
<script>
import {processAttributes} from './helpers.js';
import {MDCChip} from '@material/chips';
export default {
    data() {
        return {
            "iconLeading": true,
            "checkmark": false
        }
    },
    computed: {
        attrs(computed) {
            let result = Object.assign({}, computed);
            let cls = "mdc-chip";
            let classes = [cls];
            for (let key of ["filter", "choice", "selected"]) {
                if (result[key]) {
                    classes.push(cls+"--"+key);
                }
                delete result[key];
            }
            if (result["class"]) {
                classes.push(result["class"]);
            }
            result["class"] = classes.join(" ");
            delete result.icon;
            delete result.iconLeading;
            delete result.checkmark;
            delete result.attrs;
            return processAttributes(result);
        }
    },
    oncreate() {
        this.mdcComponent = new MDCChip(this.refs.chip);
    },
	ondestroy() {
	    this.mdcComponent.destroy();
	}
}
</script>
